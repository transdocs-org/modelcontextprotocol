---
title: "根目录"
description: "了解 MCP 中的根目录"
---

根目录（Roots）是 MCP 中的一个概念，用于定义服务器可以操作的边界。它们提供了一种客户端向服务器告知相关资源及其位置的方式。

## 什么是根目录？

根目录是客户端建议服务器应关注的一个 URI。当客户端连接到服务器时，它会声明服务器应使用的根目录。虽然根目录主要用来表示文件系统路径，但它们可以是任何有效的 URI，包括 HTTP URL。

例如，根目录可以是：

```
file:///home/user/projects/myapp
https://api.example.com/v1
```

## 为何使用根目录？

根目录有以下几个重要作用：

1. **指导作用**：它们告知服务器相关的资源和位置
2. **明确性**：根目录清楚地表明了哪些资源属于你的工作区
3. **组织性**：多个根目录可让你同时操作不同的资源

## 根目录的工作原理

当客户端支持根目录时，它会：

1. 在连接期间声明 `roots` 能力
2. 向服务器提供一个建议的根目录列表
3. 在根目录发生变化时通知服务器（如果支持）

尽管根目录仅用于信息用途，并不强制限制行为，服务器应做到以下几点：

1. 尊重所提供的根目录
2. 使用根目录的 URI 来定位和访问资源
3. 优先处理在根目录边界内的操作

## 常见使用场景

根目录通常用于定义：

- 项目目录
- 仓库位置
- API 端点
- 配置文件位置
- 资源边界

## 最佳实践

使用根目录时应遵循以下最佳实践：

1. 仅建议必要的资源
2. 为根目录使用清晰、有描述性的名称
3. 监控根目录的可访问性
4. 优雅地处理根目录的变化

## 示例

以下是一个典型的 MCP 客户端如何暴露根目录的示例：

```json
{
  "roots": [
    {
      "uri": "file:///home/user/projects/frontend",
      "name": "前端仓库"
    },
    {
      "uri": "https://api.example.com/v1",
      "name": "API 端点"
    }
  ]
}
```

此配置建议服务器同时关注本地仓库和 API 端点，同时保持它们的逻辑分离。